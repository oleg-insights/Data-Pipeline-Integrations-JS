# AnyPay Validation: интеграция и подпись платежных запросов

### Решаемая проблема

Клиент нуждался в приеме платежей через платежный шлюз AnyPay, но инструменты платформы не предоставляли готового решения. Требовалась ручная реализация логики для сопоставления полей и формирования цифровой подписи.

### Решение

Разработано решение, которое выполняет прямую интеграцию с платежным шлюзом.
* Обработка данных: скрипт извлекает необходимые данные (сумма, ID транзакции, описание) для двух сценариев: покупка с карточки товара и оплата через форму в корзине.
* Подпись запроса: логика валидации использует алгоритм хэширования, предусмотренный API AnyPay для генерации контрольной суммы.
* Переадресация: пользователь перенаправляется на сформированный URL для обеспечения безопасности транзакции.

### Подход

* Работа с внешним API: разбор документации стороннего сервиса и реализация его методов на стороне клиента.
* Обработка двойного сценария: скрипт универсален и корректно обрабатывает логику сбора данных как для корзины, так и для отдельного товара.
* Соблюдение контракта API: логика подписи точно следует требованиям API платежного шлюза, что является критически важным для успешной интеграции.
* Критическая оценка: использованный алгоритм хэширования (md5) на текущий момент является устаревшим и небезопасным. Его применение было обосновано требованием платежной системы. В современном проекте потребовалась бы реализация на основе SHA-256 или аналогичного алгоритма.

### Технологии

* JavaScript 
* Creatium API
* HTTP GET/URL Encoding

### Концепции

* Интеграция платежных систем
* Цифровая подпись
* API Contract
